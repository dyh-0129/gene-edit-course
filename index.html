<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>基因编辑科普课程 | Kimi AI 增强版</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      --primary: #1a2980;
      --secondary: #26d0ce;
      --glass: rgba(255, 255, 255, 0.85);
      --shadow: 0 10px 30px rgba(31, 38, 135, 0.15);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
      background: linear-gradient(135deg, #e0e7ff 0%, #d6e4ff 100%);
      color: #333; line-height: 1.6; min-height: 100vh;
      zoom: 1.2
    }

    /* ===== 导览页面 ===== */
    .guide-container {
      position: fixed; inset: 0;
      background: linear-gradient(135deg, #1a2980 0%, #26d0ce 100%);
      z-index: 1000; display: flex; align-items: center; justify-content: center;
      transition: opacity 0.5s ease;
    }
    .guide-slide {
      text-align: center; color: white; padding: 40px; max-width: 800px;
      animation: fadeIn 0.8s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .guide-slide h1 { font-size: 3.5em; margin-bottom: 25px; font-weight: 700; }
    .guide-slide p { font-size: 1.4em; margin-bottom: 35px; opacity: 0.9; }
    .enter-btn {
      background: rgba(255,255,255,0.15); color: white; border: 1px solid rgba(255,255,255,0.3);
      padding: 16px 45px; font-size: 1.2em; border-radius: 35px; cursor: pointer;
      transition: all 0.1s ease; backdrop-filter: blur(10px);
    }
    .enter-btn:hover { background: rgba(255,255,255,0.25); transform: translateY(-3px); }

    .guide-dots {
      position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%);
      display: flex; gap: 15px;
    }
    .dot { width: 14px; height: 14px; border-radius: 50%; background: rgba(255,255,255,0.4); cursor: pointer; transition: all 0.3s ease; }
    .dot.active { background: white; transform: scale(1.2); }

    /* ===== 导航栏 ===== */
    .navbar {
      position: fixed; top: 0; left: 0; width: 100%; background: var(--glass);
      backdrop-filter: blur(12px); box-shadow: var(--shadow); z-index: 999;
      padding: 0 20px; border-bottom: 1px solid rgba(255,255,255,0.3);
    }
    .nav-content { max-width: 1200px; margin: 0 auto; display: flex; align-items: center; height: 70px; }
    .nav-logo { font-size: 1.6em; font-weight: 700; color: var(--primary); margin-right: 50px; }
    .nav-menu { display: flex; list-style: none; gap: 35px; }
    .nav-link { text-decoration: none; color: #5f6368; font-weight: 500; padding: 10px 0; cursor: pointer; transition: color 0.3s; }
    .nav-link:hover { color: var(--primary); }
    

    /* ===== 下拉菜单 ===== */
    .dropdown {
      position: absolute; top: 100%; left: 0; background: #ffffff;
      box-shadow: var(--shadow); border-radius: 12px; padding: 12px 0;
      min-width: 270px; opacity: 0; visibility: hidden;
      transform: translateY(10px); transition: all 0.3s ease;
      border: 1px solid #eee; z-index: 1001; transform-origin: top left;
    }
    .nav-item:hover .dropdown { opacity: 1; visibility: visible; transform: translateY(0); }
    .dropdown-item {
      padding: 14px 25px; color: #5f6368; text-decoration: none;
      display: block; cursor: pointer; border-left: 3px solid transparent;
      transition: all 0.3s;
    }
    .dropdown-item:hover {
      background: #f2f2f2; color: var(--primary);
      border-left: 3px solid var(--primary); padding-left: 28px;
    }

    /* ===== 主内容 ===== */
    .main-content { margin-top: 90px; padding: 30px 20px; }
    .container {
      max-width: 900px; margin: 0 auto; background: var(--glass);
      backdrop-filter: blur(10px); border-radius: 16px; box-shadow: var(--shadow);
      padding: 40px; border: 1px solid rgba(255, 255, 255, 0.3);
    }
    .chapter-title {
      font-size: 2.5em; color: var(--primary); margin-bottom: 25px;
      text-align: center; font-weight: 700;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .section-title { font-size: 1.6em; color: var(--secondary); margin: 30px 0 15px; font-weight: 600; }
    .content-text { margin-bottom: 20px; text-align: justify; color: #444; }
    .video-container { margin: 30px 0; text-align: center; }
    .quiz-button { background: linear-gradient(to right, #1a2980, #26d0ce); color: white; border: none; padding: 16px 40px; font-size: 1.15em; border-radius: 30px; cursor: pointer; transition: all 0.3s ease; display: block; margin: 45px auto 0; font-weight: 500; letter-spacing: 0.5px; box-shadow: 0 5px 15px rgba(26, 41, 128, 0.2);}
    .quiz-button:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(26, 41, 128, 0.3);}
      
    /* ===== 关于我们 ===== */
      .about-us {margin-top: 50px;}
      .about-us h2 { text-align: center; font-size: 2em; margin-bottom: 20px; color: #444;}
      .about-us h3 { text-align: center; font-size: 1.3em; margin-bottom: 20px; background: linear-gradient(to right, var(--primary), var(--secondary)); -webkit-background-clip: text ; -webkit-text-fill-color: transparent;}
      .about-us p { text-align: justify; color: #444; line-height: 1.8;}
      .about-us .contact-btn { text-align: center; margin-top: 25px;}
      .about-us .contact-btn a { display: inline-block; padding: 10px 25px; background: linear-gradient(to right, var(--primary), var(--secondary)); color: #fff; border-radius: 25px; text-decoration: none; transition: all .3s ease;}
      .about-us .contact-btn a:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(26, 41, 128, 0.25);}
    
      /* ===== 答题动画 ===== */
    .quiz-options li { padding: 14px; margin: 8px 0; background: #eef2ff; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; border: 1px solid transparent;}
    .quiz-options li:hover { background: #dce4ff; transform: translateX(5px); }
    .quiz-options li.selected { background: linear-gradient(to right, var(--primary), var(--secondary)); color: #fff; border-color: transparent;}

    /* 综合测试页专属 */
    .global-quiz-result { margin-top: 30px; padding: 20px; border-radius: 12px; background: #f7f9ff; line-height: 1.8; }

    /* ===== 结果页 ===== */
    .result-buttons { display: flex; gap: 20px; justify-content: center; margin-top: 30px; }
    .result-btn { padding: 12px 25px; border: none; border-radius: 25px; cursor: pointer; font-size: 1em; transition: all 0.3s; }
    .retry-btn { background: var(--primary); color: #fff; }
    .next-btn { background: #00c853; color: #fff; }

    /* ===== 问答区 ===== */
    .qa-input { width: 100%; min-height: 120px; padding: 15px; border: 1px solid #ccc; border-radius: 12px; font-size: 1.5em; resize: vertical; background: #fafafa; }
    .qa-submit { background: linear-gradient(to right, #1a2980, #26d0ce); color: white; border: none; padding: 16px 40px; font-size: 1.15em; border-radius: 30px; cursor: pointer; transition: all 0.3s ease; display: block; margin: 45px auto 0; font-weight: 500; letter-spacing: 0.5px; box-shadow: 0 5px 15px rgba(26, 41, 128, 0.2);}
    .qa-response { margin-top: 20px; padding: 20px; background: #f7f9ff; border-radius: 12px; display: none; line-height: 1.8; }

    /* ===== 主页卡片动画 ===== */
    .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-top: 40px; }
    .feature-card {
      background: var(--glass); backdrop-filter: blur(5px); border-radius: 16px;
      padding: 30px; text-align: center; box-shadow: var(--shadow);
      border: 1px solid rgba(255, 255, 255, 0.3); cursor: pointer;
      transition: all 0.4s ease;
    }
    .feature-card:hover { transform: translateY(-8px); box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1); }
    .feature-icon { font-size: 2.5em; margin-bottom: 15px; background: linear-gradient(to right, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .feature-title { font-size: 1.3em; margin-bottom: 10px; color: var(--primary); }
    
    /* PubMed 搜索弹层 */
    .popup-overlay{ position:fixed; inset:0; background:rgba(0,0,0,.45); display:flex; align-items:center; justify-content:center; z-index:2000; }
    .popup-card{ background:var(--glass); backdrop-filter:blur(12px); padding:35px 40px; border-radius:16px; box-shadow:var(--shadow); width:90%; max-width:480px; border:1px solid rgba(255,255,255,.3); }
    .popup-close{ float:right; font-size:1.8em; cursor:pointer; color:#666; }
    .popup-close:hover{color:#000;}
    #pubmedKeyword{ width:100%; padding:12px 15px; font-size:1.1em; border-radius:8px; border:1px solid #ccc; margin:15px 0; }
    
    /* ===== 页面切换 ===== */
    .page { display: none; }
    .page.active { display: block; animation: fadeIn 0.5s ease; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>
<body>

<!-- 导览页面 -->
<div class="guide-container" id="guideContainer">
  <div class="guide-slide" id="guideSlide1">
    <h1>🧬 基因编辑科普课程</h1>
    <p>探索生命科学的奥秘，了解基因编辑技术的原理与应用</p>
    <div class="guide-dots">
      <span class="dot active" onclick="showSlide(1)"></span>
      <span class="dot" onclick="showSlide(2)"></span>
      <span class="dot" onclick="showSlide(3)"></span>
      <span class="dot" onclick="showSlide(4)"></span>
    </div>
  </div>
  <div class="guide-slide" id="guideSlide2" style="display: none;">
    <h1>🔬 技术原理详解</h1>
    <p>从ZFN到CRISPR，了解基因编辑工具的发展历程</p>
    <div class="guide-dots">
      <span class="dot" onclick="showSlide(1)"></span>
      <span class="dot active" onclick="showSlide(2)"></span>
      <span class="dot" onclick="showSlide(3)"></span>
      <span class="dot" onclick="showSlide(4)"></span>
    </div>
  </div>
  <div class="guide-slide" id="guideSlide3" style="display: none;">
    <h1>🌍 应用场景广泛</h1>
    <p>医疗、农业、科研...基因编辑如何改变我们的生活</p>
    <div class="guide-dots">
      <span class="dot" onclick="showSlide(1)"></span>
      <span class="dot" onclick="showSlide(2)"></span>
      <span class="dot active" onclick="showSlide(3)"></span>
      <span class="dot" onclick="showSlide(4)"></span>
    </div>
  </div>
  <div class="guide-slide" id="guideSlide4" style="display: none;">
    <h1>🎯 开始您的学习之旅</h1>
    <p>点击下方按钮，进入正式课程</p>
    <button class="enter-btn" onclick="enterMain()">进入课程</button>
    <div class="guide-dots">
      <span class="dot" onclick="showSlide(1)"></span>
      <span class="dot" onclick="showSlide(2)"></span>
      <span class="dot" onclick="showSlide(3)"></span>
      <span class="dot active" onclick="showSlide(4)"></span>
    </div>
  </div>
</div>

<!-- 导航栏 -->
<nav class="navbar" id="navbar" style="display: none;">
  <div class="nav-content">
    <div class="nav-logo">🧬 基因编辑课程</div>
    <ul class="nav-menu">
      <li class="nav-item"><a class="nav-link" onclick="showHome()">主页</a></li>
      <li class="nav-item">
        <a class="nav-link">课程导览</a>
        <div class="dropdown">
          <a class="dropdown-item" onclick="showChapter(1)">第一章：基因编辑入门</a>
          <a class="dropdown-item" onclick="showChapter(2)">第二章：基因编辑技术</a>
          <a class="dropdown-item" onclick="showChapter(3)">第三章：应用场景</a>
          <a class="dropdown-item" onclick="showChapter(4)">第四章：伦理与安全</a>
          <a class="dropdown-item" onclick="showChapter(5)">第五章：未来展望</a>
        </div>
      </li>
      <li class="nav-item"><a class="nav-link" onclick="showGlobalQuiz()">综合测试</a></li>
      <li class="nav-item"><a class="nav-link" onclick="showQA()">智能问答</a></li>
      <li class="nav-item"><a class="nav-link" onclick="openPubMedSearch()">PubMed 文献搜索</a></li>
      <li class="nav-item"><a class="nav-link" onclick="showControduct()">图文实验</a></li>
    </ul>
  </div>
</nav>

<!-- 主内容 -->
<div class="main-content" id="mainContent" style="display: none;">
  <!-- 主页 -->
  <div id="homePage" class="container page active">
    <h1 style="font-size: 2.5em; text-align: center; margin-bottom: 20px; background: linear-gradient(to right, #1a2980, #26d0ce); -webkit-background-clip: text ;-webkit-text-fill-color: transparent;">欢迎来到基因编辑科普课程</h1>
    <p style="text-align: center; color: #666; margin-bottom: 40px;">深入了解基因编辑技术的原理、应用与未来发展</p>
    <div class="feature-grid">
      <div class="feature-card" onclick="showChapter(1)">
        <div class="feature-icon">📚</div>
        <div class="feature-title">系统化课程</div>
        <p>从基础概念到前沿技术，全面覆盖基因编辑知识体系</p>
      </div>
      <div class="feature-card" onclick="startQuizFromHome()">
        <div class="feature-icon">🎯</div>
        <div class="feature-title">互动学习</div>
        <p>每章配有练习题，巩固学习成果</p>
      </div>
      <div class="feature-card" onclick="showGlobalQuiz()">
        <div class="feature-icon">✏️</div>
        <div class="feature-title">综合测试</div>
        <p>通过综合测试更好监测整体学习效果</p>
      </div>
      <div class="feature-card" onclick="showQA()">
        <div class="feature-icon">🤖</div>
        <div class="feature-title">AI问答</div>
        <p>智能助手为您解答基因编辑相关问题</p>
      </div>
      <div class="feature-card" onclick="openPubMedSearch()">
        <div class="feature-icon">🔎</div>
        <div class="feature-title">文献检索</div>
        <p>搜索关键词查询基因编辑前沿文章</p>
      </div>
      <div class="feature-card" onclick="showControduct()">
        <div class="feature-icon">📺</div>
        <div class="feature-title">图文学习</div>
        <p>通过视频全面了解本网站使用方法</p>
      </div>
    </div>
    <!-- 关于我们 -->
    <div class="about-us">
      <h2>关于我们</h2>
      <h3>探索生命的密码，从基因编辑开始</h3>
      <p>基因编辑技术正深刻改变着我们对生命的认知与操控方式。它不仅是现代生物学的前沿领域，也在医学、农业、环保等方向展现出巨大潜力。我们的网站致力于为公众提供通俗易懂、科学严谨的基因编辑知识，帮助你了解 CRISPR、TALEN、ZFN 等技术的原理、应用与伦理讨论。无论你是学生、科研人员，还是对生命科学充满好奇的普通大众，这里都有适合你的内容 —— 从入门科普到前沿研究，从趣味动画到权威资料。让我们一起揭开 DNA 的神秘面纱，探索未来生命科学的无限可能。</p>
      <div class="contact-btn">
        <a href="mailto: dongyihemm@126.com">联系我们</a>
      </div>
    </div>
  </div>
</div>

<!-- 章节内容 -->
<div id="chapterPage" class="container page">
  <h1 class="chapter-title" id="chapterTitle"></h1>
  <div id="chapterContent"></div>
  <div class="video-container" id="videoContainer"></div>
  <button class="quiz-button" onclick="startQuiz()">开始答题</button>
</div>

<!-- 答题页 -->
<div id="quizPage" class="container page">
  <h1 class="chapter-title">章节测试</h1>
  <div id="quizContent"></div>
  <button class="quiz-button" onclick="submitQuiz()">提交答案</button>
</div>

<!-- 结果页 -->
<div id="resultPage" class="container page">
  <h1 class="chapter-title">测试结果</h1>
  <div class="score" id="scoreDisplay" style="font-size:3em; text-align:center; margin-bottom:20px;"></div>
  <div id="resultDetails"></div>
  <div class="result-buttons">
    <button class="result-btn retry-btn" onclick="retryQuiz()">重新答题</button>
    <button class="result-btn next-btn" onclick="nextChapter()">学习下一章</button>
  </div>
</div>
  
<!-- 综合测试页 -->
<div id="globalQuizPage" class="container page">
  <h1 class="chapter-title">综合测试（随机 10 题）</h1>
  <div id="globalQuizContent"></div>
  <button class="quiz-button" onclick="submitGlobalQuiz()">提交答案</button>
</div>

<!-- 智能问答 -->
<div id="qaPage" class="container page">
  <h1 class="chapter-title">智能问答（Kimi AI）</h1>
  <textarea class="qa-input" id="questionInput" placeholder="请输入您关于基因编辑的问题..."></textarea>
  <button class="qa-submit" onclick="submitQuestion()">提交问题</button>
  <div class="qa-response" id="qaResponse"></div>
</div>

<!-- PubMed 搜索弹层 -->
<div id="pubmedPopup" class="popup-overlay" style="display:none;">
  <div class="popup-card">
    <span class="popup-close" onclick="closePubMedSearch()">&times;</span>
    <h2>PubMed 文献搜索</h2>
    <input type="text" id="pubmedKeyword" placeholder="请输入关键词、作者、PMID…" autocomplete="off">
    <button class="quiz-button" onclick="goPubMed()">搜索</button>
  </div>
</div>
 
<!-- 图文实验 -->
<div id="controduction" class="container page">
  <h1 class="chapter-title">图文实验</h1>
  <p style=" text-align: center; font-size: 1em; margin-bottom: 20px; color: #444;">通过图文实验来仔细了解本网站吧！</p>
  <div class="video-container" id="videoContainer"></div>
    <iframe src="//player.bilibili.com/player.html?isOutside=true&aid=115360908972797&bvid=BV14R43zbEbp&cid=33017892092&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:370px;border-radius:12px;">
    </iframe>
  </div>
</div>

<script>
// 自动轮播导览页
let currentSlide = 1;
setInterval(() => {
  if (currentSlide < 4) {
    currentSlide++;
    showSlide(currentSlide);
  } else {
    currentSlide = 4;
    showSlide(currentSlide);
  }
}, 1500);

// ===== 配置 =====
const MOONSHOT_API_KEY = 'sk-cxZWMrksa7UkLCmafSQ8CZ6PD30UFe3nu95l89LsXVTuTW9k'; // ← 申请：https://platform.moonshot.cn/

// ===== 数据 =====
const courseData = {
  1: {
    title: "第一章 基因编辑入门：从'生命密码'到技术演进",
    content: `
      <div class="section-title">基因与DNA的关系</div>
      <div class="content-text">DNA 是承载遗传信息的大分子，像一本 “生命说明书”，用 A、T、C、G 四种碱基作为 “文字”；基因则是说明书中控制生物性状的特定 “章节”。比如血红蛋白基因决定红细胞功能，该基因碱基突变会导致镰状细胞贫血 —— 患者红细胞变形成镰刀状，无法正常携氧，还易堵塞血管，引发疼痛、器官损伤。可类比不同手机系统：安卓和 iOS 的代码差异（类似基因差异），决定了手机操作界面、应用生态的不同（类似生物性状差异）；即便同系统，不同型号代码微调，也会导致摄像头像素、续航能力的区别。</div>      
      <div class="section-title">基因编辑的定义</div>
      <div class="content-text">通过技术手段对基因序列 “修改、删除、插入”，本质是 “调整遗传信息”。对比传统杂交育种（如水稻育种需多次杂交、数代筛选，效率低且可能带入不良性状），基因编辑像用光标定位修改文档，精准针对目标基因，避免随机改变。</div>
      <div class="section-title">技术发展历程</div>
      <div class="content-text">• 1970年代：限制性内切酶（初代剪刀）：仅能识别并切割特定 DNA 位点，如 EcoRI 只剪 “GAATTC” 序列，适用范围窄，仅能做简单切割。<br>• 2000年代：ZFN/TALEN技术（进阶剪刀）：ZFN 靠锌指蛋白定位、核酸酶切割，可作用更多位点，但设计复杂、成本高；TALEN 定位精度优于 ZFN，但蛋白分子量大、合成难，操作效率低。<br>• 2012年：CRISPR-Cas9技术（智能剪刀）：借 gRNA（向导 RNA）定位、Cas9 酶切割，设计简单（换 gRNA 即可适配不同基因）、成本低、效率高，推动基因编辑普及。</div>
    `,
    video: '<iframe src="//player.bilibili.com/player.html?isOutside=true&aid=464164346&bvid=BV1dL411u7DW&cid=441171372&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:370px;border-radius:12px;"></iframe>',
    questions: [
      { question: "文中用'生命说明书'比喻的是下列哪种物质？它承载的核心功能是什么？", options: ["A. 基因，控制生物性状", "B. DNA，承载遗传信息", "C. 蛋白质，执行生命活动", "D. 染色体，储存遗传物质"], answer: 1, explanation: "第一章明确提到'用生命说明书比喻DNA，说明其是承载遗传信息的大分子，核心功能是承载遗传信息。'"},
      { question: "下列关于基因编辑与传统杂交育种的区别，说法正确的是？", options: ["A. 两者都依赖自然基因重组", "B. 基因编辑可精准修改基因，杂交育种效率更低", "C. 杂交育种能直接修改基因序列，基因编辑不能", "D. 两者操作成本与难度一致"], answer: 1, explanation: "第一章指出基因编辑是'精准修改基因序列'，传统杂交育种'依赖自然基因重组、效率低'"},
      { question: "被称为基因编辑智能剪刀，且在 2012 年出现、推动技术普及的是哪项技术？", options: ["A. 限制性内切酶（初代剪刀）", "B. ZFN 技术（进阶剪刀）", "C. TALEN 技术（精准进阶工具）", "D. CRISPR-Cas9 技术"], answer: 3, explanation: "第一章 c 部分梳理技术历程，2012 年智能剪刀 CRISPR-Cas9 技术操作简单、成本低，推动基因编辑普及"},
      { question: "文档中提到血红蛋白基因碱基突变会导致镰状细胞贫血，这一案例主要说明基因的什么作用？", options: ["A. 基因是 DNA 上无功能的片段", "B. 基因控制生物特定性状（如红细胞功能）", "C. 基因突变必然导致癌症", "D. 血红蛋白基因是唯一会突变的基因"], answer: 1, explanation: "第一章 a 部分以该案例说明基因是 DNA 上控制生物性状的特定片段，即基因控制生物特定性状"},
      { question: "基因编辑技术的本质是什么？", options: ["A. 破坏 DNA 分子，消除遗传信息", "B. 通过技术手段对基因序列进行修改、删除、插入，调整遗传信息", "C. 复制完整的 DNA 分子，实现生物克隆", "D. 仅能删除基因，无法插入新基因片段"], answer: 1, explanation: "第一章 b 部分定义基因编辑，其本质是通过技术手段对基因序列修改、删除、插入，调整遗传信息"}
    ]
  },
  2: {
    title: "第二章 基因编辑技术（ZFN/TALEN/CRISPR全解析）",
    content: `
      <div class="section-title">ZFN 技术：早期成熟工具</div>
      <div class="content-text">
        • 原理：锌指蛋白（定位器）识别目标基因，核酸酶（剪刀）切断 DNA，细胞修复时实现基因编辑。<br>
        • 优势：早期用于临床，如尝试干预单基因遗传病。<br>
        • 局限：锌指蛋白需定制，研发成本高；脱靶风险高，易误剪非目标基因。
      </div>

      <div class="section-title">TALEN 技术：精准进阶工具</div>
      <div class="content-text">
        • 原理：TALE 蛋白（定位精度优于锌指蛋白）识别目标基因，核酸酶切割 DNA。<br>
        • 优势：脱靶率低于 ZFN，适配复杂基因位点能力更强。<br>
        • 局限：TALE 蛋白分子量大，合成、组装难，操作效率低、实验周期长。
        </div>

      <div class="section-title">CRISPR-Cas9 技术：明星工具</div>
      <div class="content-text">
        • 原理：gRNA（GPS 导航）通过碱基互补定位目标基因，Cas9 酶（剪刀）切断 DNA；细胞修复时可实现基因删除 / 替换（如提供供体 DNA 则替换，无供体则随机插入 / 缺失致删除）。<br>
        • 通俗类比：像 Word 操作 ——gRNA 是 “查找” 定位错误文字，Cas9 + 修复机制是 “删除 / 替换” 修正文字。<br>
        • 优势：设计简单、成本低、剪切效率高，应用最广。<br>  
        • 局限：gRNA 可能误结合相似序列致脱靶；对高度重复基因片段定位不准。
      </div>

      <div class="section-title">技术升级方向：降低脱靶率与提升精准度</div>
      <div class="content-text">• Cas12a 酶：Cas12a 酶是一种与 Cas9 酶类似的核酸酶，但在剪切位点和识别序列方面具有独特的优势。与 Cas9 酶相比，Cas12a 酶的剪切位点更灵活，它能够在目标基因序列的下游进行切割，产生粘性末端，这有利于后续的基因插入和替换操作。同时，Cas12a 酶能够识别更短的基因序列（通常为 TTTN 序列），这使得它在识别目标基因时具有更高的特异性，能够减少与非目标序列的结合，从而降低脱靶风险。此外，Cas12a 酶在切割 DNA 后，还具有持续切割单链 DNA 的活性，这一特性在基因检测等领域也具有潜在的应用价值。<br>• 碱基编辑技术：碱基编辑技术是一种无需切断 DNA 双链，直接对单个碱基进行 “修改” 的基因编辑技术。该技术主要包括胞嘧啶碱基编辑器（CBE）和腺嘌呤碱基编辑器（ABE）。胞嘧啶碱基编辑器能够将 DNA 中的胞嘧啶（C）转化为胸腺嘧啶（T），而腺嘌呤碱基编辑器则能够将腺嘌呤（A）转化为鸟嘌呤（G）。</div>

      <div class="video-container"><iframe src="//player.bilibili.com/player.html?isOutside=true&aid=293541894&bvid=BV11f4y17718&cid=423878000&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:370px;border-radius:12px;"></iframe></div>
    `,
    questions: [
      { question: "ZFN技术的组成部分不包括下列哪一项？", options: ["A. 锌指蛋白", "B. 核酸酶", "C. 向导RNA（gRNA）", "D. 目标基因识别组件"], answer: 2, explanation: "ZFN由锌指蛋白和核酸酶组成，gRNA是CRISPR的组件" },
      { question: "TALEN技术中，与基因序列存在'明确对应关系'的组件是？", options: ["A. 核酸酶", "B. TALE蛋白", "C. 锌指蛋白", "D. Cas9酶"], answer: 1, explanation: "TALE蛋白的氨基酸序列与基因序列存在明确对应关系" },
      { question: "CRISPR-Cas9技术中，相当于'GPS导航'功能的组件是？", options: ["A. Cas9酶", "B. 向导RNA（gRNA）", "C. 核酸酶", "D. TALE蛋白"], answer: 1, explanation: "gRNA如同GPS导航，识别目标基因序列" },
      { question: "下列哪种技术可'无需切断DNA双链'即实现基因编辑？", options: ["A. ZFN技术", "B. TALEN技术", "C. 碱基编辑技术", "D. CRISPR-Cas9技术"], answer: 2, explanation: "碱基编辑技术无需切断DNA双链，直接修改单个碱基" },      
      { question: "文档中提到的全基因组测序主要用于基因编辑的哪一环节？", options: ["A. 设计目标基因片段", "B. 切断 DNA 双链", "C. 检测脱靶效应（排查误剪位点）", "D. 组装 TALE 蛋白"], answer: 2, explanation: "脱靶检测技术中，全基因组测序可在编辑后对细胞基因组全面检测，排查误剪位点，即检测脱靶效应"}
    ]
  },
  3: {
    title: "第三章 基因编辑的落地应用场景",
    content: `
      <div class="section-title">医疗健康领域</div>
      <div class="content-text">• 遗传病治疗：2023 年美国批准 CRISPR 疗法，修正镰状细胞贫血患者致病基因，缓解症状。<br>• 癌症治疗：编辑 CAR-T 细胞，增强其识别癌细胞能力，用于治疗白血病、淋巴瘤等血液肿瘤。<br>• 传染病预防：编辑蚊子基因，使其无法携带疟疾寄生虫，缩小疟疾传播范围。</div>

      <div class="section-title">农业领域</div>
      <div class="content-text">• 抗逆作物：编辑水稻基因增强耐旱、抗虫能力，减少农药和水资源消耗。<br>• 营养强化：“黄金大米” 通过编辑基因增 β- 胡萝卜素，解决贫困地区维生素 A 缺乏。<br>• 延长保鲜：编辑番茄基因抑制成熟相关蛋白，延缓腐烂，降低产后损耗。</div>
抗逆作物：

      <div class="section-title">科研与生态领域</div>
      <div class="content-text">• 疾病模型构建：编辑小鼠基因模拟阿尔茨海默症、糖尿病，为药物研发提供实验载体。<br>• 生态修复：编辑珊瑚基因提高耐高温能力，缓解海洋变暖致珊瑚白化，保护海洋生态。</div>

 <div class="video-container"><iframe src="//player.bilibili.com/player.html?isOutside=true&aid=591840961&bvid=BV1Cq4y167oP&cid=446196437&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:370px;border-radius:12px;"></iframe></div>
    `,
    questions: [
      { question: "下列哪项属于基因编辑在'医疗健康领域'的应用？", options: ["A. 培育耐干旱的水稻品种", "B. 编辑CAR-T细胞治疗白血病", "C. '黄金大米'补充维生素A", "D. 编辑珊瑚基因提高耐高温能力"], answer: 1, explanation: "编辑CAR-T细胞治疗白血病属于医疗健康领域应用" },
      { question: "2023 年美国批准的 CRISPR 疗法，主要用于缓解哪种疾病的症状？", options: ["A. 白血病", "B. 镰状细胞贫血", "C. 阿尔茨海默症", "D. 疟疾"], answer: 1, explanation: "医疗应用里，2023 年美国批准 CRISPR 疗法，通过修正镰状细胞贫血患者的致病基因缓解症状"},
      { question: "黄金大米通过基因编辑实现的核心改良是？", options: ["A. 增强耐旱能力，减少水资源消耗", "B. 增加 β- 胡萝卜素含量，解决维生素 A 缺乏问题", "C. 抑制成熟相关蛋白，延长保鲜期", "D. 抗虫能力提升，减少农药使用"], answer: 1, explanation: "农业应用中，黄金大米通过编辑基因增加 β- 胡萝卜素含量，解决贫困地区维生素 A 缺乏问题"},
      { question: "编辑蚊子基因的主要应用场景是？", options: ["A. 培育体型更大的蚊子，增加生态链环节", "B. 使其无法携带疟疾寄生虫，减少疟疾传播", "C. 改变蚊子的食性，不再叮咬人类", "D. 增强蚊子耐高温能力，适应气候变暖"], answer: 1, explanation: "关于传染病预防，编辑蚊子基因使其无法携带疟疾寄生虫，减少疟疾传播范围"},
      { question: "编辑小鼠基因构建疾病模型，主要为哪一领域提供支持？", options: ["A. 作物育种", "B. 珊瑚生态修复", "C. 药物研发（模拟人类阿尔茨海默症、糖尿病等）", "D. 食品保鲜技术测试"], answer: 2, explanation: "科研应用中，编辑小鼠基因模拟人类阿尔茨海默症、糖尿病等疾病，构建疾病模型，为药物研发提供实验载体"}    
    ]
  },
  4: {
    title: "第四章 基因编辑的伦理与安全边界",
    content: `
      <div class="section-title">安全风险</div>
      <div class="content-text">• 脱靶效应：误剪非目标基因，可能引发新疾病（如细胞癌变）。<br>• 嵌合效应：编辑胚胎时部分细胞未编辑，形成 “嵌合体”，影响治疗效果或致性状不稳定。<br>• 长期影响：对后代遗传的潜在影响不明，可能有跨代风险。</div>

      <div class="section-title">伦理争议</div>
      <div class="content-text">• 生殖细胞vs体细胞：体细胞编辑（如改免疫细胞）仅影响个体，争议小；生殖细胞编辑（如改胚胎）会传代，可能破坏基因库多样性，多数国家禁临床。<br>• 治疗vs增强：编辑基因治遗传病（如修正致病基因）符合伦理；“基因增强”（如改身高、智商基因）可能致基因歧视，违背平等原则。</div>

      <div class="section-title">全球监管</div>
      <div class="content-text">• 国际共识：禁止生殖细胞编辑用于临床。<br>• 各国差异：美国允许体细胞基因治疗商业化；中国严限胚胎基因编辑研究（仅许基础科研且需伦理审批）；欧盟对基因编辑食品严审（证安全才上市）。</div>
      <div class="video-container"><iframe src="//player.bilibili.com/player.html?isOutside=true&aid=337103505&bvid=BV1mR4y14714&cid=453223121&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:370px;border-radius:12px;"></iframe></div>
    `,
    questions: [
      { question: "下列哪项属于基因编辑的'嵌合效应'？", options: ["A. 误剪非目标基因导致细胞癌变", "B. 编辑胚胎细胞时，部分细胞未被编辑，同时含两种细胞", "C. 基因编辑影响后代的遗传信息", "D. 编辑免疫细胞后，细胞功能异常"], answer: 1, explanation: "嵌合效应指编辑胚胎细胞时部分细胞未被编辑，形成同时含编辑与未编辑细胞的嵌合体" },
      { question: "全球多数国家禁止生殖细胞编辑用于临床的核心原因是？", options: ["A. 生殖细胞编辑技术难度过低，易被滥用", "B. 生殖细胞编辑仅影响个体，不改变后代基因", "C. 可能改变后代基因，破坏人类基因库多样性", "D. 生殖细胞编辑成本过高，无临床价值"], answer: 2, explanation: "关于伦理争议，生殖细胞编辑会改变后代基因，可能破坏人类基因库多样性，因此全球多数国家禁止其用于临床"},
      { question: "以下哪项属于基因增强，可能违背社会平等原则？", options: ["A. 修正镰状细胞贫血的致病基因", "B. 编辑 CAR-T 细胞治疗白血病", "C. 编辑身高、智商相关基因", "D. 编辑蚊子基因预防疟疾"], answer: 2, explanation: "对于区分治疗与增强，基因增强如编辑身高、智商相关基因，可能导致基因歧视，违背社会平等原则"},
      { question: "中国对胚胎基因编辑研究的政策是？", options: ["A. 允许临床应用，无需伦理审批", "B. 严格限制，仅允许基础科研且需伦理审批", "C. 完全禁止任何胚胎基因编辑研究", "D. 允许商业化应用，只需报备即可"], answer: 1, explanation: "关于全球监管，中国严格限制胚胎基因编辑研究，仅允许基础科研且需伦理审批"},
      { question: "基因编辑的脱靶效应可能带来的危害是？", options: ["A. 提高基因编辑效率，加速研究进程", "B. 误剪非目标基因，可能引发新疾病（如细胞癌变）", "C. 降低基因编辑成本，利于技术普及", "D. 增强细胞修复能力，减少 DNA 损伤"], answer: 1, explanation: "对于安全风险，脱靶效应即误剪非目标基因，可能引发新疾病，如导致细胞癌变"}
    
    ]
  },
  5: {
    title: "第五章 基因编辑的未来展望与挑战",
    content: `
      <div class="section-title">技术升级方向</div>
      <div class="content-text">• 新型工具：Cas14酶体积更小，可进入更微小细胞结构<br>• 引导编辑技术：结合gRNA与逆转录酶，实现精准插入/替换，降低脱靶风险</div>

      <div class="section-title">跨界融合趋势</div>
      <div class="content-text">• 基因编辑+AI：AI 辅助设计 gRNA（机器学习分析基因序列，提定位精度减脱靶）。<br>• 合成生物学：设计 “人工细胞”（如改微生物基因合成抗癌药、降解塑料），拓展应用边界。</div>

      <div class="section-title">普及挑战</div>
      <div class="content-text">• 技术鸿沟：基因治疗成本高（如 CRISPR 疗法单次超百万美元），需降成本避免 “仅少数人受益”。<br>• 公众参与：通过科普让大众懂原理与风险，推动公众参与伦理决策，防技术偏离社会共识。</div>
      <div class="video-container"><iframe src="//player.bilibili.com/player.html?isOutside=true&aid=299797100&bvid=BV1JF411V7FA&cid=740330356&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width:100%;height:370px;border-radius:12px;"></iframe></div>
    `,
    questions: [
      { question: "下列哪种新型工具'体积仅为Cas9的1/3，可进入更微小的细胞结构'？", options: ["A. Cas12a酶", "B. Cas14酶", "C. 碱基编辑工具", "D. ZFN工具"], answer: 1, explanation: "Cas14酶体积仅为Cas9的1/3，可进入更微小的细胞结构进行编辑" },
      { question: "AI 在基因编辑中的主要应用是？", options: ["A. 直接执行 DNA 剪切操作", "B. 辅助设计 gRNA（通过机器学习分析基因序列，提高定位精准度）", "C. 合成完整的 DNA 分子", "D. 替代伦理审批流程"], answer: 1, explanation: "对于跨界融合，AI 可辅助设计 gRNA，通过机器学习分析基因序列，提高定位精准度，减少脱靶"},
      { question: "基因编辑与合成生物学结合的应用不包括以下哪项？", options: ["A. 编辑微生物基因使其合成抗癌药物", "B. 编辑微生物基因使其降解塑料污染物", "C. 设计人工细胞", "D. 编辑珊瑚基因提高耐高温能力"], answer: 3, explanation: "关于基因编辑 + 合成生物学，可设计人工细胞，如编辑微生物基因使其合成抗癌药物、降解塑料污染物；D 属于生态修复应用，非两者结合的应用"},
      { question: "目前基因编辑技术普及的主要公平性挑战是？", options: ["A. 技术难度过高，无人能掌握", "B. 基因治疗成本较高（如 CRISPR 疗法单次超百万美元），可能仅少数人享受红利", "C. 公众对技术认知过高，过度依赖", "D. 监管政策过于宽松，易被滥用"], answer: 1, explanation: "提道普及挑战，技术鸿沟导致目前基因治疗成本较高，如 CRISPR 疗法单次费用超百万美元，需降低成本避免仅少数人享受技术红利，这是主要的公平性挑战"},
      { question: "引导编辑技术的核心特点是？", options: ["A. 结合 gRNA 与逆转录酶，实现精准插入 / 替换，无脱靶风险", "B. 必须依赖 Cas9 酶才能发挥作用", "C. 仅能删除基因，无法插入新片段", "D. 操作复杂，成本远高于 CRISPR-Cas9"], answer: 0, explanation: "关于引导编辑技术，其结合 gRNA 与逆转录酶，可实现精准插入 / 替换，且无脱靶风险"}
    ]
  }
};

// ===== 页面切换 =====
function hideAllPages() {
  const pages = ['homePage', 'chapterPage', 'quizPage', 'resultPage', 'qaPage', 'globalQuizPage','controduction'];
  pages.forEach(id => document.getElementById(id).classList.remove('active'));
}

function showSlide(n) {
  document.querySelectorAll('.guide-slide').forEach(slide => slide.style.display = 'none');
  document.querySelectorAll('.dot').forEach(dot => dot.classList.remove('active'));
  document.getElementById(`guideSlide${n}`).style.display = 'block';
  document.querySelectorAll('.dot')[n - 1].classList.add('active');
}

function enterMain() {
  document.getElementById('guideContainer').style.opacity = '0';
  setTimeout(() => {
    document.getElementById('guideContainer').style.display = 'none';
    document.getElementById('navbar').style.display = 'block';
    document.getElementById('mainContent').style.display = 'block';
    showHome();
  }, 500);
}

function showHome() {
  hideAllPages();         
  document.getElementById('homePage').classList.add('active');
}

function showChapter(chapter) {
  currentChapter = chapter;
  currentSection = null;
  const data = courseData[chapter];
  renderChapter(data);
}

function renderChapter(data) {
  hideAllPages();
  document.getElementById('chapterTitle').textContent = data.title;
  document.getElementById('chapterContent').innerHTML = data.content;
  document.getElementById('videoContainer').innerHTML = data.video || '<div class="video-placeholder">📹 视频加载区域</div>';
  document.getElementById('chapterPage').classList.add('active');
  currentQuizQuestions = data.questions;
}

function showQA() {
  hideAllPages();
  document.getElementById('qaPage').classList.add('active');
}

function startQuizFromHome() {
  currentChapter = 1;
  currentSection = null;
  currentQuizQuestions = courseData[1].questions;
  startQuiz();
}

function startQuiz() {
  hideAllPages();
  const quizContent = document.getElementById('quizContent');
  quizContent.innerHTML = '';
  userAnswers = [];
  currentQuizQuestions.forEach((q, index) => {
    const div = document.createElement('div');
    div.className = 'quiz-question';
    div.innerHTML = `
      <div class="question-text"><strong>${index + 1}. ${q.question}</strong></div>
      <ul class="quiz-options">
        ${q.options.map((opt, i) => `
          <li onclick="selectAnswer(${index}, ${i})" data-q="${index}" data-o="${i}">${opt}</li>
        `).join('')}
      </ul>
    `;
    quizContent.appendChild(div);
  });
  document.getElementById('quizPage').classList.add('active');
}

function selectAnswer(qIndex, oIndex) {
  userAnswers[qIndex] = oIndex;
  const options = document.querySelectorAll(`[data-q="${qIndex}"]`);
  options.forEach(opt => opt.classList.remove('selected'));
  options[oIndex].classList.add('selected');
}

function submitQuiz() {
  if (userAnswers.length !== currentQuizQuestions.length) {
    alert('请完成所有题目！');
    return;
  }
  let correct = 0, resultHTML = '';
  currentQuizQuestions.forEach((q, i) => {
    const isCorrect = userAnswers[i] === q.answer;
    if (isCorrect) correct++;
    resultHTML += `
      <div style="margin-bottom:15px; padding:15px; background:${isCorrect ? '#e8f5e8' : '#ffeaea'}; border-radius:8px;">
        <strong>第${i + 1}题：</strong>${q.question}<br>
        <strong>你的答案：</strong>${q.options[userAnswers[i]]}<br>
        <strong>正确答案：</strong>${q.options[q.answer]}<br>
        <strong>解析:</strong>${q.explanation}
      </div>
    `;
  });
  const score = Math.round((correct / currentQuizQuestions.length) * 100);
  document.getElementById('scoreDisplay').textContent = `${score}分`;
  document.getElementById('resultDetails').innerHTML = resultHTML;
  hideAllPages();
  document.getElementById('resultPage').classList.add('active');
}

function retryQuiz() {
  startQuiz();
}

function nextChapter() {
  if (currentChapter === 1) {
    showChapter(2);
  } else if (currentChapter === 2) {
    showChapter(3);
  } else if (currentChapter === 3) {
    showChapter(4);
  } else if (currentChapter === 4) {
    showChapter(5);
  } else {
    alert('已经是最后一章了！');
    showHome();
  }
}

/* ========== 综合测试 ========== */
const globalQuizBank = [    // 把 5 章所有题汇到一起
  ...courseData[1].questions,
  ...courseData[2].questions,
  ...courseData[3].questions,
  ...courseData[4].questions,
  ...courseData[5].questions
];
let globalQuizQuestions = [];
let globalUserAnswers   = [];

// 导航栏点击
function showGlobalQuiz(){
  hideAllPages();
  document.getElementById('globalQuizPage').classList.add('active');
  generateGlobalQuiz();
}

// 随机抽 10 题（不足 10 题则全抽）
function generateGlobalQuiz(){
  globalQuizQuestions = globalQuizBank
    .sort(() => Math.random() - 0.5)   // Fisher-Yates 洗牌
    .slice(0, 10);
  globalUserAnswers   = [];
  renderGlobalQuiz();
}

// 渲染题目
function renderGlobalQuiz(){
  const box = document.getElementById('globalQuizContent');
  box.innerHTML = '';
  globalQuizQuestions.forEach((q, idx) => {
    box.insertAdjacentHTML('beforeend', `
      <div class="quiz-question">
        <div class="question-text"><strong>${idx + 1}. ${q.question}</strong></div>
        <ul class="quiz-options">
          ${q.options.map((opt, i) => `
            <li onclick="selectGlobalAnswer(${idx}, ${i})" data-q="${idx}" data-o="${i}">${opt}</li>
          `).join('')}
        </ul>
      </div>
    `);
  });
}

// 选中答案
function selectGlobalAnswer(qIdx, oIdx){
  globalUserAnswers[qIdx] = oIdx;
  document.querySelectorAll(`[data-q="${qIdx}"]`).forEach(li => li.classList.remove('selected'));
  document.querySelector(`[data-q="${qIdx}"][data-o="${oIdx}"]`).classList.add('selected');
}

// 交卷
function submitGlobalQuiz(){
  if (globalUserAnswers.length !== globalQuizQuestions.length){
    alert('请完成所有题目！'); return;
  }
  let correct = 0, html = '';
  globalQuizQuestions.forEach((q, i) => {
    const right = globalUserAnswers[i] === q.answer;
    if (right) correct++;
    html += `
      <div class="global-quiz-result" style="background:${right?'#e8f5e8':'#ffeaea'}">
        <strong>第${i + 1}题.</strong> ${q.question}<br>
        <strong>你的答案：</strong>${q.options[globalUserAnswers[i]]}<br>
        <strong>正确答案：</strong>${q.options[q.answer]}<br>
        ${!right ? `<strong>解析：</strong>${q.explanation}` : ''}
      </div>
    `;
  });
  const score = Math.round(correct / globalQuizQuestions.length * 100);
  document.getElementById('globalQuizContent').innerHTML = `
    <h2 style="text-align:center; font-size:2.5em; margin:20px 0;">${score}分</h2>
    ${html}
    <div style="text-align:center; margin-top:30px;">
      <button class="quiz-button" onclick="showGlobalQuiz()">再测一次</button>
      <button class="quiz-button" onclick="showHome()">返回主页</button>
    </div>
  `;
}

// ===== 真实 Kimi API 接入 =====
async function submitQuestion() {
  const question = document.getElementById('questionInput').value.trim();
  if (!question) return alert('请输入问题！');
  const responseDiv = document.getElementById('qaResponse');
  responseDiv.style.display = 'block';
  responseDiv.innerHTML = '<p>正在思考中...</p>';

  try {
    const res = await fetch('https://api.moonshot.cn/v1/chat/completions', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${MOONSHOT_API_KEY}`
      },
      body: JSON.stringify({
        model: 'moonshot-v1-8k',
        messages: [
          { role: 'system', content: '你是一个基因编辑科普助手，回答简洁、准确、通俗易懂。' },
          { role: 'user', content: question }
        ],
        temperature: 0.7,
        max_tokens: 500
      })
    });

    const data = await res.json();
    const answer = data.choices[0].message.content;
    responseDiv.innerHTML = `<h3>回答：</h3><p>${answer}</p>`;
  } catch (err) {
    responseDiv.innerHTML = `<h3>出错</h3><p>无法获取回答，请检查网络或API Key。</p>`;
  }
}

/* PubMed 搜索 */
function openPubMedSearch(){
  document.getElementById('pubmedPopup').style.display='flex';
  document.getElementById('pubmedKeyword').focus();
}
function closePubMedSearch(){
  document.getElementById('pubmedPopup').style.display='none';
}
function goPubMed(){
  const kw=document.getElementById('pubmedKeyword').value.trim();
  if(!kw){alert('请输入搜索词！');return;}
  // 直接带关键词跳转到 PubMed 结果页
  window.open('https://pubmed.ncbi.nlm.nih.gov/?term='+encodeURIComponent(kw),'_blank');
  closePubMedSearch();
}
/* 点 ESC 也可关闭 */
document.addEventListener('keydown',e=>{
  if(e.key==='Escape') closePubMedSearch();
});

function showControduct() {
  hideAllPages();
  document.getElementById('controduction').classList.add('active');
}

</script>
</body>
</html>